--- 
- name: update yum repo
  become: yes
  yum:
    name: '*'
    state: latest

- name: setup kubernetes
  shell: |
    curl -LO https://storage.googleapis.com/kubernetes-release/release/`curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl
    chmod +x ./kubectl

- name: move kubernetes to bin
  become: yes
  shell: |
    mv ./kubectl /usr/local/bin/kubectl
    amazon-linux-extras install docker

- name: Display kubernetes
  shell: |
    sudo docker version
    kubectl version --client

- name: Install minikube
  shell: |
    curl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 \
    && chmod +x minikube \
    && sudo mv minikube /usr/local/bin/
